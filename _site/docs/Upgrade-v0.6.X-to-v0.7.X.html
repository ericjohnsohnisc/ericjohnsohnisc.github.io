<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
    <title>ILGPU - A Modern GPU Compiler for .Net Programs</title>
    <meta content="" name="description">
    <meta content="" name="keywords">
  
    <!-- Favicons -->
    <link href="../assets/img/favicon.png" rel="icon">
    <link href="../assets/img/apple-touch-icon.png" rel="apple-touch-icon">
  
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Jost:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
  
    <!-- Vendor CSS Files -->
    <link href="../assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="../assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="../assets/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
     
    <script src="https://unpkg.com/boxicons@latest/dist/boxicons.js"></script>
  
    <!-- Template Main CSS File -->
    <link href="../assets/css/style.css" rel="stylesheet">

  <!-- Custom Styles CSS File -->
  <link href="../assets/css/custom-styles.css" rel="stylesheet">
    
  </head>

  <body class="wiki">
    <!-- ======= Header ======= -->
<header id="header" class="fixed-top ">
    <div class="container d-flex align-items-center">

      <a href="../index.html" class="logo me-auto"><img src="../assets/img/ilgpu-logo.svg" alt="" class="img-fluid"></a>

      <nav id="navbar" class="navbar">
        <ul>
          <li class="dropdown"><a>About</a>
          <ul>
            <li><a href="../index.html#learn-more" class="scrollto">Learn More</a></li>
            <li><a href="../index.html#highlights" class="scrollto">Highlights</a></li>
            <li><a href="../index.html#features">Features</a></li>
            <li><a href="../index.html#news" class="scrollto">News</a></li>
            <li><a href="../index.html#faq">FAQ</a></li>
          </ul>
          </li>
          <li class="dropdown"><a class="scrollto" href="../index.html#about">Project</a>
            <ul>
              <li><a href="https://github.com/m4rs-mt/ILGPU/" class="scrollto">Sourcecode</a></li>
              <li><a href="../index.html#features">Releases</a></li>
              <li><a href="../index.html#news" class="scrollto">Milestones</a></li>
            </ul>
            </li>
        <li><a href="/wiki/home">Documentation</a></li>
        <li><a href="https://discord.com/invite/X6RBCff" target="_blank">Discord</a></li>
        <li><a class="getstarted scrollto" href="../index.html#cta">Get Started</a></li>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->


    <section id="sidebar">
    <div id="sidebar-header">
        <h4>Documentation</h4>
        </div>
    <nav id="wiki-nav">
        <h5>Primers</h5>
        <ul>
            <li><a href="/docs/Readme.html">Home</a></li> 
            <li><a href="/docs/Primer_00.html">Setting Up ILGPU</a></li>
            <li><a href="/docs/Primer_01.html">A GPU Is Not A CPU</a></li>
            <li><a href="/docs/Primer_02.html">Memory & Bandwidth Threads</a></li>
        </ul>
        <h5>Beginner</h5>
        <ul>
            <li><a href="/docs/Tutorial_01.html">Context & Accelerators</a></li> 
            <li><a href="/docs/Tutorial_02.html">Setting Up ILGPU</a></li>
            <li><a href="/docs/Tutorial_03.html">A GPU Is Not A CPU</a></li>
            <li><a href="/docs/Tutorial_04.html">Memory & Bandwidth Threads</a></li>
        </ul>
        <h5>Advanced</h5>
        <ul>
            <li><a href="/docs/Accelerators-and-Streams.html">Accelerators & Streams</a></li> 
            <li><a href="/docs/Memory-Buffers-and-Views.html">Memory Buffers & Views</a></li> 
            <li><a href="/docs/Kernels.html">Kernels</a></li> 
            <li><a href="/docs/Shared-Memory.html">Shared Memory</a></li> 
            <li><a href="/docs/Math-Functions.html">Math Functions</a></li> 
            <li><a href="/docs/Dynamically-Specialized-Kernels.html">Dynamically Specialized Kernels</a></li> 
            <li><a href="/docs/Debugging-and-Profiling.html">Debugging & Profiling</a</li> 
            <li><a href="/docs/Inside-ILGPU.html">Inside ILGPU</a></li> 
        </ul>
        
        <h5>Upgrade Guides</h5>
        <ul>
            <li><a href="/docs/Upgrade-v0.8.X-to-v0.9.X.html">v0.8.X to v0.9.X</a></li> 
            <li><a href="/docs/Upgrade-v0.8.0-to-v0.8.1.html">v0.8.0 to v0.8.1</a></li> 
            <li><a href="/docs/Upgrade-v0.7.X-to-v0.8.X.html">v0.7.X to v0.8.X</a></li> 
            <li><a href="/docs/Upgrade-v0.6.X-to-v0.7.X.html">v0.6.X to v0.7.X</a></li> 
            <li><a href="/docs/Upgrade-v0.3.X-to-v0.5.X.html">v0.3.X to v0.5.X</a></li> 
            <li><a href="/docs/Upgrade-v0.1.X-to-v0.2.X.html">v0.1.X to v0.2.X</a></li> 
          </ul>
    </nav>

    <div class="box">
        <span dd-toggle="theme" class="df">
          <div id="toggle_theme" class="dd-theme__switcher">
            <span class="dd-theme__switcher-btn">
              <svg xmlns="http://www.w3.org/2000/svg" class="dd-icon icon-tabler icon-tabler-sun" width="24" height="24"
                viewBox="0 0 24 24" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" />
                <circle cx="12" cy="12" r="4" />
                <path d="M3 12h1M12 3v1M20 12h1M12 20v1M5.6 5.6l.7 .7M18.4 5.6l-.7 .7M17.7 17.7l.7 .7M6.3 17.7l-.7 .7" />
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" class="dd-icon icon-tabler icon-tabler-moon" width="24" height="24"
                viewBox="0 0 24 24" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" />
                <path d="M16.2 4a9.03 9.03 0 1 0 3.9 12a6.5 6.5 0 1 1 -3.9 -12" />
              </svg>
            </span>
          </div>
          &nbsp;<label class="box-lbl" for="toggle_theme"><strong>Toggle Light/Dark Theme</strong></label>
      </div>

</section>
    <section id="wiki-main">
      <h2 id="general-notes">General Notes</h2>

<p>A new OpenCL backend has been added that supports OpenCL C 2.0 (or higher) compatible GPUs.
The OpenCL backend does not require an OpenCL SDK to be installed/configured.
There is the possibility to query all supported OpenCL accelerators via <code class="language-plaintext highlighter-rouge">CLAccelerator.CLAccelerators</code>.
Since NVIDIA GPUs typically does not support OpenCL C 2.0 (or higher), they are usually not contained in this list.
However, if you still want to access those devices via the OpenCL API you can query <code class="language-plaintext highlighter-rouge">CLAccelerators.AllCLAccelerators</code>.
Note that the global list of all accelerators <code class="language-plaintext highlighter-rouge">Accelerator.Accelerators</code> will contain supported accelerators only.
It is highly recommended to use the <code class="language-plaintext highlighter-rouge">CudaAccelerator</code> class for NVIDIA GPUs and the <code class="language-plaintext highlighter-rouge">CLAccelerator</code> class for Intel and AMD GPUs.
Furthermore, it is not necessary to worry about native library dependencies regarding OpenCL (except, of course, for the actual GPU drivers).</p>

<p>The <code class="language-plaintext highlighter-rouge">XMath</code> class has been removed as it contained many software implementations for different platforms that are not related to the actual ILGPU compiler.
However, there are several math functions that are supported on all platforms which are still exposed via the new <code class="language-plaintext highlighter-rouge">IntrinsicMath</code> class.
There is also a class <code class="language-plaintext highlighter-rouge">IntrinsicMath.CPU</code> which contains implementations for all math functions for the <code class="language-plaintext highlighter-rouge">CPUAccelerator</code>.
Please note that these functions are not supported on other accelerators except the <code class="language-plaintext highlighter-rouge">CPUAccelerator</code>.
If you want to use the full range of math functions refer to the <code class="language-plaintext highlighter-rouge">XMath</code> class of the <code class="language-plaintext highlighter-rouge">ILGPU.Algorithms</code> library.</p>

<p>The new version of the <code class="language-plaintext highlighter-rouge">ILGPU.Algorithms</code> library offers support for a set of commonly used algorithms (like Scan or Reduce).
Moreover, it offers <code class="language-plaintext highlighter-rouge">GroupExtensions</code> and <code class="language-plaintext highlighter-rouge">WarpExtensions</code> to support group/warp-wide reductions or prefix sums within kernels.</p>

<h2 id="new-algorithms-library">New Algorithms Library</h2>

<p>The new <code class="language-plaintext highlighter-rouge">ILGPU.Algorithms</code> library comes in a separate nuget package.
In order to use any of the exposed group/warp/math extensions you have to enable the library.
This setups all internal ILGPU hooks and custom code-generators to emit code that realizes the extensions in the right places.
This is achieved by using the new extension and intrinsic API.</p>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">ILGPU.Algorithms</span><span class="p">;</span>
<span class="k">class</span> <span class="err">...</span>
<span class="err">{</span>
    <span class="nc">static</span> <span class="k">void</span> <span class="p">...(...)</span>
    <span class="p">{</span>
        <span class="k">using</span> <span class="nn">var</span> <span class="n">context</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Context</span><span class="p">();</span>

        <span class="c1">// Enable all algorithms and extension methods</span>
        <span class="n">context</span><span class="p">.</span><span class="nf">EnableAlgorithms</span><span class="p">();</span>

        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="math-functions">Math Functions</h2>

<p>As mentioned <a href="#v07">here</a>, the <code class="language-plaintext highlighter-rouge">XMath</code> class has been removed from the actual GPU compiler framework.
Leverage the <code class="language-plaintext highlighter-rouge">IntrinsicMath</code> class to use math functions that are available on all supported accelerators.
If you want to access all math functions use the newly designed <code class="language-plaintext highlighter-rouge">XMath</code> class of the <code class="language-plaintext highlighter-rouge">ILGPU.Algorithms</code> library.</p>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="err">...</span>
<span class="err">{</span>
    <span class="nc">static</span> <span class="k">void</span> <span class="p">...(...)</span>
    <span class="p">{</span>
        <span class="c1">// Old way (obsolete and no longer supported)</span>
        <span class="kt">float</span> <span class="n">x</span> <span class="p">=</span> <span class="n">ILGPU</span><span class="p">.</span><span class="n">XMath</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(...);</span>

        <span class="c1">// New way</span>
        <span class="c1">// 1) Don't forget to enable algorithm support ;)</span>
        <span class="n">context</span><span class="p">.</span><span class="nf">EnableAlgorithms</span><span class="p">();</span>
        
        <span class="c1">// 2) Use the new XMath class</span>
        <span class="kt">float</span> <span class="n">x</span> <span class="p">=</span> <span class="n">ILGPU</span><span class="p">.</span><span class="n">Algorithms</span><span class="p">.</span><span class="n">XMath</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(...);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="warp--group-intrinsics">Warp &amp; Group Intrinsics</h2>

<p>Previous versions of ILGPU had several warp-shuffle overloads to expose the native warp and group intrinsics to the programmer.
However, these functions are typically available for <code class="language-plaintext highlighter-rouge">int</code> and <code class="language-plaintext highlighter-rouge">float</code> data types.
More complex or larger types required programming of custom <code class="language-plaintext highlighter-rouge">IShuffleOperation</code> interfaces that had to be passed to the shuffle functions.
This inconvenient way of programming is no longer required.
The new warp and group intrinsics support generic data structures.
ILGPU will automatically generate the required code for every target platform and use case.</p>

<p>The intrinsics <code class="language-plaintext highlighter-rouge">Group.Broadcast</code> and <code class="language-plaintext highlighter-rouge">Warp.Broadcast</code> have been added.
In contrast to <code class="language-plaintext highlighter-rouge">Warp.Shuffle</code>, the <code class="language-plaintext highlighter-rouge">Warp.Broadcast</code> intrinsic requires that all participating threads read from the same lane.
<code class="language-plaintext highlighter-rouge">Warp.Shuffle</code> supports different source lanes in every thread.
<code class="language-plaintext highlighter-rouge">Group.Broadcast</code> works like <code class="language-plaintext highlighter-rouge">Warp.Broadcast</code>, but for all threads in a group.</p>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="err">...</span>
<span class="err">{</span>
    <span class="nc">static</span> <span class="k">void</span> <span class="p">...(...)</span>
    <span class="p">{</span>
        <span class="n">ComplexDataType</span> <span class="n">y</span> <span class="p">=</span> <span class="p">...;</span>
        <span class="n">ComplexDataType</span> <span class="n">x</span> <span class="p">=</span> <span class="n">Warp</span><span class="p">.</span><span class="nf">Shuffle</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">threadIdx</span><span class="p">);</span>

        <span class="p">...</span>

        <span class="n">ComplexDataType</span> <span class="n">y</span> <span class="p">=</span> <span class="p">...;</span>
        <span class="n">ComplexDataType</span> <span class="n">x</span> <span class="p">=</span> <span class="n">Group</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">groupIdx</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="grid--group-indices">Grid &amp; Group Indices</h2>

<p>It is no longer required to access grid and group indices via the <code class="language-plaintext highlighter-rouge">GroupedIndex(|2|3) index</code> parameter of a kernel.
Instead, you can access the static properties <code class="language-plaintext highlighter-rouge">Grid.Index(X|Y|Z)</code> and <code class="language-plaintext highlighter-rouge">Group.Index(X|Y|Z)</code> from every function in the scope of a kernel.
This simplifies programming of helper methods significantly.
Furthermore, this also feels natural to experienced Cuda and OpenCL developers.</p>

<p>class …
{
    static void …(GroupedIndex index)
    {
        // Common ILGPU way (still supported)
        int gridIdx = index.GridIdx;
        int groupIdx = index.GroupIdx;</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    // New ILGPU way
    int gridIdx = Grid.IndexX;
    int groupIdx = Group.IndexX;
} }
</code></pre></div></div>

      <div class="f5 contribution">
    <h2>Help us make these docs great!</h2>
    <p>All ILGPU docs are open source. See something that's wrong or unclear? Submit a pull request.</p>
        <a class="btn" href="https://github.com/m4rs-mt/ILGPU/edit/master/Docs/Upgrade-v0.6.X-to-v0.7.X.md" target="_blank" rel="noopener"><svg aria-hidden="true" role="img" class="octicon mr-1" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path fill-rule="evenodd" d="M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"></path></svg>Make a contribution</a>
        <p class="color-fg-muted f6 mt-2">Or,<!-- --> <a href="https://github.com/m4rs-mt/ILGPU#general-contribution-guidelines" target="_blank" rel="noopener">learn how to contribute.</a></p>
    </div>
    </section>
      <!-- ======= Footer ======= -->
  <footer id="footer">

  

    <div class="container footer-bottom clearfix text-center">
      <div class="">
        &copy; Copyright <script type="text/javascript">document.write(new Date().getFullYear());</script> <span>ILGPU</span>. All Rights Reserved.
      </div>
      <div class="credits">
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="../assets/vendor/aos/aos.js"></script>
  <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="../assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="../assets/vendor/php-email-form/validate.js"></script>
  <script src="../assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="../assets/vendor/waypoints/noframework.waypoints.js"></script>

  <!-- Template Main JS File -->
  <script src="../assets/js/main.js"></script>

  <!-- Easter Egg JS -->
  <script type="text/javascript">
    function easteregg() {
    var span = document.getElementById('easter-egg');
      if (span.textContent == 'ö') {
        span.textContent = 'œ' ;
      }
      else if (span.textContent == 'œ') {
        span.textContent = 'ö' ;
      }
    }
    </script>
    <div>
      <script type="text/javascript">
        // Set the theme from localStorage(if exist) || or set default light
let theme = window.localStorage.getItem('theme') || 'light';
// Activate the current theme (using class)
body.classList = theme;
// Available Themes
let available_themes = document.querySelectorAll('[dd-theme]');

/** Light / Dark theme Toggle */
// Toggle Dark / Light theme
let _toggler = document.querySelector('[dd-toggle]');
_toggler.addEventListener('click', toggleTheme);
// Function: toggle theme(light & dark)
function toggleTheme() {
 // Toggle light / dark theme
 ( theme == 'light' ? theme = 'dark' : theme = 'light');
 // Apply class to body
 body.classList = theme;
 // Store theme var to localStorage
 window.localStorage.setItem('theme', theme );
}
      </script>
    </div>
  </body>
</html>