<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
    <title>ILGPU - A Modern GPU Compiler for .Net Programs</title>
    <meta content="" name="description">
    <meta content="" name="keywords">
  
    <!-- Favicons -->
    <link href="../assets/img/favicon.png" rel="icon">
    <link href="../assets/img/apple-touch-icon.png" rel="apple-touch-icon">
  
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Jost:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
  
    <!-- Vendor CSS Files -->
    <link href="../assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="../assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="../assets/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
     
    <script src="https://unpkg.com/boxicons@latest/dist/boxicons.js"></script>
  
    <!-- Template Main CSS File -->
    <link href="../assets/css/style.css" rel="stylesheet">

  <!-- Custom Styles CSS File -->
  <link href="../assets/css/custom-styles.css" rel="stylesheet">
    
  </head>
  <body class="wiki">
    <!-- ======= Header ======= -->
<header id="header" class="fixed-top ">
    <div class="container d-flex align-items-center">

      <a href="../index.html" class="logo me-auto"><img src="../assets/img/ilgpu-logo.svg" alt="" class="img-fluid"></a>

      <nav id="navbar" class="navbar">
        <ul>
          <li class="dropdown"><a>About</a>
          <ul>
            <li><a href="../index.html#learn-more" class="scrollto">Learn More</a></li>
            <li><a href="../index.html#highlights" class="scrollto">Highlights</a></li>
            <li><a href="../index.html#features">Features</a></li>
            <li><a href="../index.html#news" class="scrollto">News</a></li>
            <li><a href="../index.html#faq">FAQ</a></li>
          </ul>
          </li>
          <li class="dropdown"><a class="scrollto" href="../index.html#about">Project</a>
            <ul>
              <li><a href="https://github.com/m4rs-mt/ILGPU/" class="scrollto">Sourcecode</a></li>
              <li><a href="../index.html#features">Releases</a></li>
              <li><a href="../index.html#news" class="scrollto">Milestones</a></li>
            </ul>
            </li>
        <li><a href="/wiki/home">Documentation</a></li>
        <li><a href="https://discord.com/invite/X6RBCff" target="_blank">Discord</a></li>
        <li><a class="getstarted scrollto" href="../index.html#cta">Get Started</a></li>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->


    <section id="sidebar">
    <div id="sidebar-header">
        <h3>Documentation</h3>
        </div>
    <nav id="wiki-nav">
        <h5>Overview</h5>
        <ul>
            <li><a href="/docs/Home.html">Home</a></li> 
            <li><a href="/docs/Accelerators-and-Streams.html">Accelerators & Streams</a></li> 
            <li><a href="/docs/Memory-Buffers-and-Views.html">Memory Buffers & Views</a></li> 
            <li><a href="/docs/Kernels.html">Kernels</a></li> 
            <li><a href="/docs/Shared-Memory.html">Shared Memory</a></li> 
            <li><a href="/docs/Math-Functions.html">Math Functions</a></li> 
        </ul>
        <h5>Advanced</h5>
        <ul>
            <li><a href="/docs/Dynamically-Specialized-Kernels.html">Dynamically Specialized Kernels</a></li> 
            <li><a href="/docs/Debugging-and-Profiling.html">Debugging & Profiling</a</li> 
            <li><a href="/docs/Inside-ILGPU.html">Inside ILGPU</a></li> 
        </ul>
        
        <h5>Upgrade Guides</h5>
        <ul>
            <li><a href="/docs/Upgrade-v0.8.X-to-v0.9.X.html">v0.8.X to v0.9.X</a></li> 
            <li><a href="/docs/Upgrade-v0.8.0-to-v0.8.1.html">v0.8.0 to v0.8.1</a></li> 
            <li><a href="/docs/Upgrade-v0.7.X-to-v0.8.X.html">v0.7.X to v0.8.X</a></li> 
            <li><a href="/docs/Upgrade-v0.6.X-to-v0.7.X.html">v0.6.X to v0.7.X</a></li> 
            <li><a href="/docs/Upgrade-v0.3.X-to-v0.5.X.html">v0.3.X to v0.5.X</a></li> 
            <li><a href="/docs/Upgrade-v0.1.X-to-v0.2.X.html">v0.1.X to v0.2.X</a></li> 
          </ul>
    </nav>

</section>
    <section id="wiki-main">
      <h2 id="general-upgrade">General Upgrade</h2>

<p>If you rely on the <code class="language-plaintext highlighter-rouge">LightningContext</code> class (of <code class="language-plaintext highlighter-rouge">ILGPU.Lightning</code> v0.1.X) for high-level kernel loading or other high-level operations, you will have to adapt your projects to the API changes.
The new API does not require a <code class="language-plaintext highlighter-rouge">LightningContext</code> instance.
Instead, all operations are extension methods to the ILGPU Accelerator class.
This simplifies programming and makes the general API more consistent.
Furthermore, kernel caching and convenient kernel loading are now included in the ILGPU runtime system and do not require any <code class="language-plaintext highlighter-rouge">ILGPU.Lightning</code> operations.
Moreover, if you make use of the low-level kernel-loading functionality of the ILGPU runtime system (in order to avoid additional library dependencies to <code class="language-plaintext highlighter-rouge">ILGPU.Lightning</code>), you will also benefit from the new API changes.</p>

<p>Note that all functions from v0.1.X will still work to ensure backwards compatibility.
However, they will be removed in future versions.</p>

<h2 id="the-obsolete-lightning-context">The Obsolete Lightning Context</h2>

<p>The <code class="language-plaintext highlighter-rouge">LightningContext</code> class is obsolete and will be removed in future versions.
It encapsulated an ILGPU <code class="language-plaintext highlighter-rouge">Accelerator</code> instance and provided useful kernel caching and loading features.
Moreover, all extensions functions (like sorting, for example) were based on a <code class="language-plaintext highlighter-rouge">LightningContext</code>.</p>

<p>We recommend that you replace all occurrences of a <code class="language-plaintext highlighter-rouge">LightningContext</code> with an ILGPU <code class="language-plaintext highlighter-rouge">Accelerator</code>.
Furthermore, change the <code class="language-plaintext highlighter-rouge">LightningContext</code> creation code with an appropriate accelerator construction from ILGPU.
Note that kernel caching and loading are now natively provided by an <code class="language-plaintext highlighter-rouge">Accelerator</code> object.</p>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="err">...</span>
<span class="err">{</span>
    <span class="nc">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Create the required ILGPU context</span>
        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">context</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Context</span><span class="p">())</span>
        <span class="p">{</span>
            <span class="c1">// Deprecated code snippets for creating a LightningContext</span>
            <span class="kt">var</span> <span class="p">...</span> <span class="p">=</span> <span class="n">LightningContext</span><span class="p">.</span><span class="nf">CreateCPUContext</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
            <span class="kt">var</span> <span class="p">...</span> <span class="p">=</span> <span class="n">LightningContext</span><span class="p">.</span><span class="nf">CreateCudaContext</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
            <span class="kt">var</span> <span class="p">...</span> <span class="p">=</span> <span class="n">LightningContext</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">acceleratorId</span><span class="p">);</span>

            <span class="c1">// New version: use default ILGPU accelerators and perform</span>
            <span class="c1">// all required operations on an accelerator instance.</span>
            <span class="kt">var</span> <span class="p">...</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CPUAccelerator</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
            <span class="kt">var</span> <span class="p">...</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CudaAccelerator</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
            <span class="kt">var</span> <span class="p">...</span> <span class="p">=</span> <span class="n">Accelerator</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">acceleratorId</span><span class="p">);</span>


            <span class="c1">// Old sample for an Initialize command</span>
            <span class="kt">var</span> <span class="n">lc</span> <span class="p">=</span> <span class="n">LightningContext</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="p">...);</span>
            <span class="n">lc</span><span class="p">.</span><span class="nf">Initialize</span><span class="p">(</span><span class="n">targetView</span><span class="p">);</span>

            <span class="c1">// New version</span>
            <span class="kt">var</span> <span class="n">accl</span> <span class="p">=</span> <span class="n">Accelerator</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">acceleratorId</span><span class="p">);</span>
            <span class="n">accl</span><span class="p">.</span><span class="nf">Initialize</span><span class="p">(</span><span class="n">targetView</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

    </section>
      <!-- ======= Footer ======= -->
  <footer id="footer">

  

    <div class="container footer-bottom clearfix text-center">
      <div class="">
        &copy; Copyright <script type="text/javascript">document.write(new Date().getFullYear());</script> <span>ILGPU</span>. All Rights Reserved.
      </div>
      <div class="credits">
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="../assets/vendor/aos/aos.js"></script>
  <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="../assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="../assets/vendor/php-email-form/validate.js"></script>
  <script src="../assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="../assets/vendor/waypoints/noframework.waypoints.js"></script>

  <!-- Template Main JS File -->
  <script src="../assets/js/main.js"></script>

  <!-- Easter Egg JS -->
  <script type="text/javascript">
    function easteregg() {
    var span = document.getElementById('easter-egg');
      if (span.textContent == 'ö') {
        span.textContent = 'œ' ;
      }
      else if (span.textContent == 'œ') {
        span.textContent = 'ö' ;
      }
    }
    </script>
  </body>
</html>